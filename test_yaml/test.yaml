global:
  namespace: division-name-dev1
  argoproject: division-name-dev1
  charts:
    app:
      targetRevision: 1.40.3
    pipeline:
      targetRevision: 1.1.5
  pipelines:
    imageRegistryNamespace: division
    targets:
      - namespace: division-name-dev1
        branch: master
        gitConfig: 'git@git.xxx.eu:tt/division-name-config-dev1.git'
      - namespace: division-name-dev1
        branch: develop
        gitConfig: 'git@git.xxx.eu:tt/division-name-config-dev1.git'
    image:
      graal: 'quay.xxx.eu/xxx/quarkus:mandrel-21-jdk17'
      openjdk: 'registry.access.redhat.com/ubi8/openjdk-17:1.13-1.1655306439'
    teamsOnFailureNotifyUrl: https://xxxeu.webhook.office.com/webhookb2/68edc6ad-9b0f-4fe0-b3df-63e011f5d593@5f3aee10-f259-4c5f-a52c-1dc66f5ae0ca/IncomingWebhook/f320c41879584b92b6243c60489cd341/8a8651fe-2e4e-44fa-8341-27a560056e08
    gitUpdateCommitStatus: true
    mavenBundledSteps: true
    pipelineServiceAccount:
      secrets:
        - name: division-division-quay-secret
        - name: git-http
        - name: git-ssh-tt
deployments:
  communications-platform:
    values:
      framework: quarkus
      replicaCount: 1
      image:
        repository: quay.xxx.eu/division/communications-platform
        tag: 1.0-20230804.103125.929
        pullSecret: division-division-quay-secret
      routes:
        - host: communications-platform-dev1.apps.ocp.tst.xxx.eu
          name: communications-platform
      app:
        profile: communications-platform-dev1
        config:
          properties: SERVER_PORT=8080
      extraEnv:
        - name: QUARKUS_PROFILE
          value: "dev"
        - name: quarkus.oidc.auth-server-url
          value: "https:/idp.tst.xxx.eu"
        - name: quarkus.datasource.db-kind
          value: "h2"
        - name: quarkus.datasource.jdbc.url
          value: "jdbc:h2:mem:test;DB_CLOSE_DELAY=-1"
        - name: quarkus.datasource.jdbc.driver
          value: "org.h2.Driver"
        - name: quarkus.datasource.username
          value: "test"
        - name: quarkus.datasource.password
          value: "test"
        - name: quarkus.tls.trust-all
          value: "true"
  crm-providers-sync:
    values:
      framework: quarkus
      replicaCount: 1
      image:
        repository: quay.xxx.eu/division/crm-providers-sync
        tag: 1.0-20230818.120418.498
        pullSecret: division-division-quay-secret
      routes:
        - host: crm-providers-sync-dev1.apps.ocp.tst.xxx.eu
          name: crm-providers-sync
      app:
        profile: crm-providers-sync-dev1
        config:
          properties: SERVER_PORT=8080
      extraEnv:
        - name: QUARKUS_PROFILE
          value: "dev"
        - name: quarkus.oidc.auth-server-url
          value: "https:/idp.tst.xxx.eu"
        - name: quarkus.datasource.db-kind
          value: "h2"
        - name: quarkus.datasource.jdbc.url
          value: "jdbc:h2:mem:test;DB_CLOSE_DELAY=-1"
        - name: quarkus.datasource.jdbc.driver
          value: "org.h2.Driver"
        - name: quarkus.datasource.username
          value: "test"
        - name: quarkus.datasource.password
          value: "test"
        - name: quarkus.tls.trust-all
          value: "true"
        - name: ADMIN_ENDPOINT
          value: https://crm-providers-sync-dev1.apps.ocp.tst.xxx.eu/
  tokenization-service:
    values:
      framework: quarkus
      replicaCount: 1
      image:
        repository: quay.xxx.eu/division/tokenization-service
        tag: 1.0-20230420.082422.605
        pullSecret: division-division-quay-secret
      routes:
        - host: tokenization-service-dev1.apps.ocp.tst.xxx.eu
          name: tokenization-service
      app:
        profile: tokenization-service-dev1
        config:
          properties: |-
            SERVER_PORT=8080
            TEST=test
      extraEnv:
        - name: QUARKUS_PROFILE
          value: "dev"
        - name: quarkus.oidc.auth-server-url
          value: "https:/idp.tst.xxx.eu"
        - name: quarkus.datasource.db-kind
          value: "h2"
        - name: quarkus.datasource.jdbc.url
          value: "jdbc:h2:mem:test;DB_CLOSE_DELAY=-1"
        - name: quarkus.datasource.jdbc.driver
          value: "org.h2.Driver"
        - name: quarkus.datasource.username
          value: "test"
        - name: quarkus.datasource.password
          value: "test"
        - name: quarkus.tls.trust-all
          value: "true"
      extraEnvFrom:
        - secretRef:
            name: tokenization-service-app-properties